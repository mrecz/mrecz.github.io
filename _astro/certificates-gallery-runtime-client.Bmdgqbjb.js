import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.RH_Wq4ov.js";import{L as N}from"./index.DNyClrR_.js";/* empty css                       */import"./index.nqNQovPP.js";function I(){const[n,o]=i.useState([]),[j,d]=i.useState([]),[g,m]=i.useState(!0),[h,f]=i.useState(null),[x,u]=i.useState(-1);return i.useEffect(()=>{(async()=>{try{m(!0),f(null);const t=await fetch("/api/certificates-images");if(!t.ok)throw new Error(`Failed to fetch images: ${t.status}`);const a=await t.json(),c=[],l=[];for(const r of a)try{const s=new Image;await new Promise((v,w)=>{s.onload=v,s.onerror=w,s.src=r.path}),c.push({src:r.path,width:s.naturalWidth,height:s.naturalHeight}),l.push({src:r.path})}catch(s){console.warn(`Failed to load ${r.name}:`,s),c.push({src:r.path,width:800,height:600}),l.push({src:r.path})}o(c),d(l)}catch(t){console.error("Error loading certificates images:",t),f(t instanceof Error?t.message:"Failed to load images");const a=[{src:"/placeholder-image.png",width:800,height:600}];o(a),d([{src:a[0].src}])}finally{m(!1)}})()},[]),g?e.jsx("div",{className:"relative overflow-hidden w-full h-full py-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-carmine-700 mx-auto mb-4"}),e.jsx("p",{className:"text-stone-600",children:"Načítám certifikáty..."})]})}):h?e.jsx("div",{className:"relative overflow-hidden w-full h-full py-20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("p",{className:"text-red-600 mb-2",children:"Chyba při načítání certifikátů"}),e.jsx("p",{className:"text-stone-500 text-sm",children:h}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-carmine-700 text-white rounded-lg hover:bg-carmine-800 transition-colors",children:"Zkusit znovu"})]})}):e.jsxs("div",{className:"relative overflow-hidden w-full h-full py-8",children:[e.jsx("div",{className:"certificates-gallery",children:e.jsxs("div",{className:"certificates-grid",children:[n.length===0&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-stone-600 text-4xl font-montserrat py-16",children:"V procesu tvorby..."})}),n.map((p,t)=>e.jsx("div",{className:"certificate-item",onClick:()=>u(t),children:e.jsxs("div",{className:"certificate-frame",children:[e.jsx("img",{src:p.src,alt:`Certifikát ${t+1}`,className:"certificate-image"}),e.jsxs("div",{className:"certificate-overlay",children:[e.jsx("div",{className:"certificate-icon",children:e.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("div",{className:"certificate-label",children:e.jsx("span",{className:"text-sm font-medium text-white",children:"Zobrazit certifikát"})})]})]})},t))]})}),e.jsx(N,{index:x,slides:j,open:x>=0,close:()=>u(-1)})]})}export{I as CertificatesGalleryRuntimeClient};
